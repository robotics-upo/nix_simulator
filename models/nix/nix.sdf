<?xml version="1.0" ?>

<!-- TODO: add prefix to the sensors and the cmd_vel (in Raposa) -->
<sdf version="1.6">
  <plugin
      filename="ignition-gazebo-sensors-system"
      name="ignition::gazebo::systems::Sensors">
      <render_engine>ogre2</render_engine>
    </plugin>
  <model name="nix">
    <pose frame=''>0 0 0 0 0 0</pose>
    
    <include>
      <uri>raposaNG</uri>
      <pose frame=''> 0 0 0.07 0 0 0 </pose>
    </include>

    <include>
      <uri>nix_tower</uri>
      <name>nix_tower</name>
      <pose frame=''> 0.06 0 0.18 0 0 0 </pose>
    </include>
    <joint name="tower_joint" type="revolute">
      <child>nix_tower::base_link</child>
      <parent>raposaNG::base_link</parent>
     
      <pose>0.06 0 0.18 0 0 0</pose>
      
      <axis>
        <limit>
          <lower>-0.02</lower>
          <upper>0.02</upper>
        </limit>
        <xyz>0 0 1</xyz>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0.3</damping>
          <friction>2</friction>
        </dynamics>
      </axis>
      
    </joint>
    
    <!-- Ouster Configuration-->
    <include>
      <uri>velodyne_hdl32</uri>
      <pose frame=''> 0.13 0 0.42 0 0 0 </pose>
    </include>
    <joint name="velodyne_joint" type="fixed">
      <child>velodyne::top</child>
      <parent>nix_tower::plate</parent>
     
      <pose>0.15 0 0.42 0 0 0</pose>
    </joint>

    <!-- Radar Config -->
    <include>
      <uri>hrw_radar</uri>
      <pose frame=''> 0.13 0 0.3 0 0 0 </pose>
    </include>
    <joint name="radar_joint" type="fixed">
      <child>radar::top</child>
      <parent>nix_tower::plate</parent>
     
      <pose>0.15 0 0.3 0 0 0</pose>
    </joint>

    <include>
      <uri>wide_lens_camera</uri>
      <pose frame=''> 0.16 -0.08 0.39 0 0 0 </pose>
    </include>
    <joint name="wide_lens_camera_joint" type="fixed">
      <child>wide_lens_camera::base_link</child>
      <parent>nix_tower::plate</parent>
      <pose>0.16 -0.08 0.39 0 0 0</pose>
    </joint>

  </model>
</sdf>
